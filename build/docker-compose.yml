version: "3.8"
services:
  php:
    container_name: Database_And_Exercises_PHP
    build:
      context: ./Docker/php
      dockerfile: Dockerfile
    stdin_open: true
    tty: true
    volumes:
      - ../src:/var/www/html
    ports:
      - 8000:80

  docker-phpfpm-postfix-example:
    build:
      context: ./Docker/postfix
      dockerfile: Dockerfile
    image: docker-phpfpm-postfix-example-image:latest
    container_name: docker-phpfpm-postfix-example-container
    volumes:
      # Postfixの設定をマウントする
      - type: bind
        source: ./Docker/postfix/config/main.cf
        target: /etc/postfix/main.cf
      # SASL認証のパスワードをマウントする
      - type: bind
        source: ./Docker/postfix/config/sasl_passwd
        target: /etc/postfix/sasl_passwd
